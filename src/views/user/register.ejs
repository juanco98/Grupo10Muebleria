<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('../partials/head', {tittle: tittle} ); %>
        <link rel="stylesheet" href="/css/user/register-styles.css">
    </head>
    <body>
        <header>
            <%- include('../partials/navigation'); %>
        </header>
        <div class="register">
            <div class="form-register">
                <h3 class="tittle-form">Registrate</h3>
                <form action="/user/newRegister" method="POST" enctype="multipart/form-data">
                    <div class="form-up">
                        <label for="name" class="form-label">Nombre</label>
                        <input type="text" name="name" placeholder="Nombre" class="form-input" maxlength="60"
                        value="<%= locals.oldData ? locals.oldData.name : null %>" required >
                        <% if (locals.errors && errors.name) { %>
                            <label class="text-danger"> <%= errors.name.msg %>  </label>
                        <% } %>
                    </div>
                    <div class="form-up">
                        <label for="lastName" class="form-label">Apellido</label>
                        <input type="text" name="lastName" placeholder="Apellido" class="form-input"  maxlength="60"
                        value="<%= locals.oldData ? locals.oldData.lastName : null %>" required >
                        <% if (locals.errors && errors.lastName) { %>
                            <label class="text-danger"> <%= errors.lastName.msg %>  </label>
                        <% } %>
                    </div>
                    <div class="form-up">
                        <label for="bornDate" class="form-label">Fecha de nacimiento</label>
                        <input type="date" name="bornDate" class="form-input"
                        value="<%= locals.oldData ? locals.oldData.bornDate : null %>" required >
                        <% if (locals.errors && errors.bornDate) { %>
                            <label class="text-danger"> <%= errors.bornDate.msg %>  </label>
                        <% } %>
                    </div>
                    <div class="form-up">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" name="email" placeholder="hola@mundo.com" class="form-input"
                        value="<%= locals.oldData ? locals.oldData.email : null %>" required >
                        <% if (locals.errors && errors.email) { %>
                            <label class="text-danger"> <%= errors.email.msg %>  </label>
                        <% } %>
                    </div>
                    <div class="form-compartido">
                        <div class="form-up-half">
                            <label for="city" class="form-label">Ciudad</label>
                            <input type="text" name="city" id="city" placeholder="Ciudad" class="form-input"  pattern="[A-Za-z\s]+"
                            value="<%= locals.oldData ? locals.oldData.city : null %>" required >
                            <% if (locals.errors && errors.city) { %>
                                <label class="text-danger"> <%= errors.city.msg %>  </label>
                            <% } %>
                        </div>
                        <div class="form-up-half">
                            <label for="state" class="form-label">Provincia</label>
                            <input type="text" name="state" id="state" placeholder="Provincia" class="form-input"  pattern="[A-Za-z\s]+"
                            value="<%= locals.oldData ? locals.oldData.state : null %>" required >
                            <% if (locals.errors && errors.state) { %>
                                <label class="text-danger"> <%= errors.state.msg %>  </label>
                            <% } %>
                        </div>
                    </div>
                    <div class="form-compartido">
                        <div class="form-up-half">
                            <label for="postalCode" class="form-label">Código postal</label>
                            <input type="text" name="postalCode" id="postalCode" placeholder="1000" class="form-input"  pattern="[0-9]+" 
                            title="Solamente números" maxlength="5"
                            value="<%= locals.oldData ? locals.oldData.postalCode : null %>" required >
                            <% if (locals.errors && errors.postalCode) { %>
                                <label class="text-danger"> <%= errors.postalCode.msg %>  </label>
                            <% } %>
                        </div>
                    </div>
                    <div class="form-up">
                        <label for="address" class="form-label">Dirección</label>
                        <input type="text" name="address" id="address" placeholder="Calle Falsa" class="form-input"  maxlength="60"
                        value="<%= locals.oldData ? locals.oldData.address : null %>" required >
                        <% if (locals.errors && errors.address) { %>
                            <label class="text-danger"> <%= errors.address.msg %>  </label>
                        <% } %>
                    </div>
                    <div class="form-compartido">
                        <div class="form-up-three">
                            <label for="numberAddress" class="form-label">Altura</label>
                            <input type="text" name="numberAddress" id="numberAddress" placeholder="123" class="form-input" pattern="[0-9]+" 
                            title="Solamente números" maxlength="5"
                            value="<%= locals.oldData ? locals.oldData.numberAddress : null %>" required >
                            <% if (locals.errors && errors.numberAddress) { %>
                                <label class="text-danger"> <%= errors.numberAddress.msg %>  </label>
                            <% } %>
                        </div>
                        <div class="form-up-three">
                            <label for="numberFloor" class="form-label">Piso</label>
                            <input type="text" name="numberFloor" id="numberFloor" placeholder="PB" class="form-input"
                            value="<%= locals.oldData ? locals.oldData.numberFloor : null %>" required >
                            <% if (locals.errors && errors.numberFloor) { %>
                                <label class="text-danger"> <%= errors.numberFloor.msg %>  </label>
                            <% } %>
                        </div>
                        <div class="form-up-three">
                            <label for="numberApartment" class="form-label">Depto.</label>
                            <input type="text" name="numberApartment" id="numberApartment" placeholder="1" class="form-input"
                            value="<%= locals.oldData ? locals.oldData.numberApartment : null %>" required >
                            <% if (locals.errors && errors.numberApartment) { %>
                                <label class="text-danger"> <%= errors.numberApartment.msg %>  </label>
                            <% } %>
                        </div>
                    </div>
                    <div class="form-up">
                        <label for="user" class="form-label">Usuario</label>
                        <input type="text" name="user" placeholder="Usuario" class="form-input"
                        pattern="[A-Za-z0-9_]{5,10}" title="5 caracteres como mínimo, 10 máximo, sin espacios"
                        value="<%= locals.oldData ? locals.oldData.user : null %>" required >
                        <% if (locals.errors && errors.user) { %>
                            <label class="text-danger"> <%= errors.user.msg %>  </label>
                        <% } %>
                    </div>
                    <div class="form-up">
                        <label for="pass" class="form-label">Contraseña</label>
                        <input type="password" name="pass" placeholder="Contraseña" class="form-input"
                        pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" 
                        title="Debe contener al menos un número, una letra mayúscula, minúscula, y al menos 8 o más caracteres" required >
                        <% if (locals.errors && errors.pass) { %>
                            <label class="text-danger"> <%= errors.pass.msg %>  </label>
                        <% } %>
                    </div>
                    <div class="form-up">
                        <label for="pass2" class="form-label">Repetir Contraseña</label>
                        <input type="password" name="pass2" placeholder="Contraseña" class="form-input"
                         pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" 
                        title="Debe contener al menos un número, una letra mayúscula, minúscula, y al menos 8 o más caracteres" required >
                        <% if (locals.errors && errors.pass2) { %>
                            <label class="text-danger"> <%= errors.pass2.msg %>  </label>
                        <% } %>
                    </div>
                    <div class="form-up">
                        <label for="avatar">Avatar</label>
                        <input type="file" accept="image/png, image/jpg, image/jpeg" name="avatar" id="avatar" required >
                        <% if (locals.errors && errors.avatar) { %>
                            <label class="text-danger"> <%= errors.avatar.msg %>  </label>
                        <% } %>
                    </div>
                    <div class="form-up">
                        <label class="form-label">Desea vender?</label>
                        <div class="form-compartido">
                            <div class="form-up-half">
                                <div class="form-checkbox">
                                    <input type="radio" id="userSellerYes" name="seller" class="form-input" value="true" >
                                    <label for="userSellerYes" class="form-label">Si</label>
                                </div>
                            </div>
                            <div class="form-up-half">
                                <div class="form-checkbox">
                                    <input type="radio" id="userSellerNo" name="seller" class="form-input" value="false" checked >
                                    <label for="userSellerNo" class="form-label">No</label>
                                </div>
                            </div>
                        </div>
                        <label class="little-text">Esto se puede cambiar más adelante.</label>
                    </div>
                    <input type="reset" name="Limpiar" class="forgetpass cleanbtn">
                    <div class="form-button">
                        <button type="submit" class="button-blue" >Registrate
                            <i class="fas fa-user-plus"></i>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </body>
</html>